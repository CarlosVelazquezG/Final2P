{% extends "base.html" %}

{% block content %}
<div class="container">
    <div class="contenedor-editor">
        <h2 class="titulo-editor">
            {% if pelicula %}Editando: {{ pelicula.title }}{% else %}Nueva PelÃ­cula{% endif %}
        </h2>
        
        <!-- Formulario corregido -->
        <form method="POST" action="{% if pelicula %}{{ url_for('guardar_pelicula', id=pelicula['id']) }}{% else %}{{ url_for('guardar_pelicula') }}{% endif %}">
            <div class="grupo-formulario">
                <label>TÃ­tulo:</label>
                <input 
                    type="text" 
                    name="title" 
                    value="{{ pelicula.title if pelicula }}" 
                    required
                    class="input-estilizado"
                >
            </div>
            
            <div class="grupo-formulario">
                <label>GÃ©nero:</label>
                <input 
                    type="text" 
                    name="genre" 
                    value="{{ pelicula.genre if pelicula }}" 
                    required
                    class="input-estilizado"
                >
            </div>
            
            <div class="grupo-formulario">
                <label>AÃ±o:</label>
                <input 
                    type="number" 
                    name="year" 
                    value="{{ pelicula.year if pelicula }}" 
                    min="1900" 
                    max="2100" 
                    required
                    class="input-estilizado"
                >
            </div>
            
            <div class="grupo-formulario">
                <label>ClasificaciÃ³n:</label>
                <input 
                    type="text" 
                    name="clss" 
                    value="{{ pelicula.clss if pelicula }}" 
                    maxlength="1" 
                    pattern="[A-Ca-c]"
                    title="Solo A, B o C"
                    required
                    class="input-estilizado"
                >
            </div>
            
            <button type="submit" class="boton boton-guardar">
                ðŸ’¾ {% if pelicula %}Actualizar{% else %}Crear{% endif %}
            </button>
        </form>
    </div>
</div>
{% endblock %}